<div style="padding:20px; background:#fff;">

<style>
.formPanel {margin:10px; padding:10px; background:#eee; line-height:200%;}
.formPanel table {width:90%;}
.formTitle {font-weight:bold; padding-left:80px;}
.tdLeft { vertical-align:top;width:80px;}
</style>


    <div class="formPanel">
    
    <div style="margin:10px 0px; font-size:14px; font-weight:bold;">弹窗指挥父页面刷新</div>
    
    <div style="margin-left:20px;"><a href="#{boxLink}" class="frmBox">点击此处</a>，出现弹窗，显示提示信息，接着刷新父页面。</div>

    </div>


    <div style="border-bottom:1px #ccc solid;margin:0px 0px 20px 0px;">&nbsp;</div>
    
    <div>
    <div class="strong">服务端代码</div>
    <div style="margin-left:5px; margin-top:10px;">
        <div>1）在服务端使用 <span style="color:blue; font-weight:bold;">echoToParent</span> 方法，表示先echo显示信息，然后跳转到父页面 ToParent</div>
        <div>这个方法还可以带第二个参数，表示要跳转的目标url：<span style="color:Blue;">echoToParent( String msg, <span style="font-weight:bold; color:Red;">String url</span> )</span></div>
        <div style="margin-top:10px;">2）使用 <span style="color:blue; font-weight:bold;">echoToParentPart</span> 方法，则只刷新父页面的局部(不会整页刷新)。</div>
        <div>重载方法包括：echoToParentPart( msg, url )，echoToParentPart( msg, url, frmNumber ) 在指定 count 的 iframe 中刷新</div>
    </div>
    
    <pre class="brush: c-sharp;">    
        // 这是父页面
        public void BoxRefresh() {
            set( "boxLink", to( BoxRefreshBody ) );
        }

        // 这是弹窗页面
        public void BoxRefreshBody() {
            echoToParent( "操作成功，刷新父页面" ); // 显示提示信息，然后刷新弹窗的父页面
            // 你也可以使用 echoToParent( String msg, String url ) 指定父页面跳转的网址
        }
    </pre>
    
    </div>

</div>



